\documentclass{article}

\usepackage{amsmath,amssymb, amsthm}
\usepackage{mathpartir}
\usepackage{vmargin}
\usepackage{enumitem}
\usepackage{comment}
\usepackage{url}
\usepackage{diagrams}
\usepackage{textcomp} 
\usepackage{stmaryrd} 
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage{hyperref}
\usepackage{cmll}
\usepackage{txfonts}
\usepackage{graphicx}

%% \newcommand{\redto}[0]{\rightsquigarrow}
%% \newcommand{\interp}[1]{\llbracket #1 \rrbracket}
\newcommand{\ifrName}[1]{#1}
\newcommand{\comod}[0]{\mathrel{\stackrel{\invertedsmile}{\smile}}}
\newcommand{\scomod}[0]{\mathrel{\stackrel{\invertedsmile}{\,}}}
\newcommand{\cat}[1]{\mathbb{#1}}
\newcommand{\opcat}[1]{\mathcal{#1}^{op}}
\newcommand{\homs}[3]{\cat{#1}[#2,#3]}

% this bit of stuff changes the style of figures to ``ruled''
%\usepackage{float}
%\floatstyle{ruled} 
%\restylefloat{figure}

%\setpapersize{USletter}
%\setmarginsrb{25mm}{26mm}{26mm}{18mm}{0mm}{0mm}{7mm}{7mm}

%\newtheorem{theorem}{Theorem}[section]
%\newtheorem{lemma}[theorem]{Lemma}
%\newtheorem{corollary}[theorem]{Corollary}
%\newtheorem{definition}[theorem]{Definition}

\newcommand{\chcalc}[0]{\bar{\lambda}\mu\tilde{\mu}}
\newcommand{\invertedeps}{\begin{sideways}%
    \begin{sideways}$\epsilon$\end{sideways}\end{sideways}}
\newcommand{\invertedsmile}{\begin{sideways}%
    \begin{sideways}$\smile$\end{sideways}\end{sideways}}
\newcommand{\oplam}{\tilde\lambda}
\newcommand{\opbeta}{\tilde\beta}
\newcommand{\oprho}{\tilde\rho}
\newcommand{\opalpha}{\tilde\alpha}

\usepackage{supertabular}
\include{syntax-inc}
\include{type-theory_inc}

\newcommand{\ndto}[1]{\to_{#1}}
\newcommand{\ndwedge}[1]{\wedge_{#1}}

%\renewcommand{\cite}[1]{\citep{#1}}

\newcommand{\ri}[0]{\textnormal{RI}}
%\newcommand{\interp}[1]{\llbracket #1 \rrbracket}
\newcommand{\falsum}[0]{\mathop{\perp}}
\newcommand{\verum}[0]{\mathop{\top}}
\newcommand{\To}[0]{\Rightarrow}

\begin{document}

\title{Centered Categories: Categorical Models for Type Theories with Determinisitic Reduction}

\author{Harley Eades III \\
Computer Science, The University of Iowa}

\date{}

\maketitle

\newcommand{\imp}[1]{\stackrel{#1}{\to}}
%\newcommand{\orbox}[2]{\{#1\}#2}
\newcommand{\orbox}[2]{#1 \vee #2}

\section{Introduction}
\label{sec:introduction}

% section introduction (end)

\section{Equality in CCCs}
\label{sec:equality_in_cccs}

Consider how we interpret the application rule for STLC in a CCC $[[C]]$:
\begin{center}
  \begin{math}
    $$\mprset{flushleft}
    \inferrule* [right=App] {
      \Gamma \vdash t_2 : [[A]]
      \\
      \Gamma \vdash t_1 : [[A => B]]
    }{\Gamma \vdash t_1\,t_2 : [[B]]}
  \end{math}
\end{center}
First assume we have the following morphisms in $[[CC]]$:
\begin{center}
  \begin{math}
    \begin{array}{lll}
      \begin{diagram}
        \interp{\Gamma} & \rTo{t_1} & [[A => B]]
      \end{diagram}
      & \ \ \ \ \ \ 
      \begin{diagram}
        \interp{\Gamma} & \rTo{t_2} & [[A]]
      \end{diagram}
    \end{array}
  \end{math}
\end{center}
Then we must define a new morphism $t \in [[CC]](\interp{\Gamma},B)$.  We can accomplish this in the
following way:
\begin{center}
  \begin{math}
    \begin{diagram}
      \interp{\Gamma} & \rTo{(t_1,t_2)} & [[(A => B) x A]] & \rTo{[[app A B]]} & B
    \end{diagram}
  \end{math}
\end{center}
Where $\mathsf{app}$ is the evaluator for exponentials. Now suppose $t_1 \equiv \lambda x . t$ then
the in the type theory $t_1\,t_2 \equiv [t_2/x]t$.  We know the morphism for $t_1\,t_2$, but what
is the morphism for $[t_2/x]t$?  Substitution amounts to essentially composition.  Recalling that
$\lambda$-abstractions are modeled by curring the previous term is modled by the following:
\begin{center}
  \begin{math}
    \begin{diagram}
      \interp{\Gamma} & \rTo{(\mathsf{id}_{\interp{\Gamma}}, t_2)} & \interp{\Gamma} \times [[A]] & \rTo{\mathsf{cur}^{-1} \circ [[cur t]]} & B\\
    \end{diagram}
  \end{math}
\end{center}
Since $\mathsf{cur}$ is an isomorphism the previous diagram is equivalent to the following:
\begin{center}
  \begin{math}
    \begin{diagram}
      \interp{\Gamma} & \rTo{(\mathsf{id}_{\interp{\Gamma}}, t_2)} & \interp{\Gamma} \times [[A]] & \rTo{t} & B\\
    \end{diagram}
  \end{math}
\end{center}
In the previous morphism there are no restrictions on what $[[t2]]$ can be.  Thus, this corresponds to full $\beta\eta$-reduction. 
In order for this to be the correct model the equality 
$[[app A B]] \circ [[(cur t , t_2)]] = [[t]] \circ (\mathsf{id}_{\interp{\Gamma}},[[t2]])$.  To prove this we must show that the following
diagram commutes:
\begin{center}
  \begin{math}
    \begin{diagram}
      \interp{\Gamma}                           & \rTo{[[(cur t,t2)]]} & [[(A => B) x A]]\\
      \dTo{(\mathsf{id}_{\interp{\Gamma}},[[t2]])} &   \ruTo{[[cur t]] \times [[id A]]}          & \dTo_{[[app A B]]}\\
      \interp{\Gamma} \times [[A]]               & \rTo{[[t]]}     & [[B]]
    \end{diagram}
  \end{math}
\end{center}
The UMP for exponentials gives us
\begin{center}
  \begin{math}
    \begin{array}{lll}
      [[app A B]] \circ [[cur t]] \times [[id A]] & = & [[t]]
    \end{array}
  \end{math}
\end{center}
Now
\begin{center}
  \begin{math}
    \begin{array}{lll}
      ([[app A B]] \circ [[cur t]] \times [[id A]]) \circ (\mathsf{id}_{\interp{\Gamma}},[[t2]]) & = &
    [[app A B]] \circ ([[cur t]] \times [[id A]] \circ (\mathsf{id}_{\interp{\Gamma}},[[t2]]))
    \end{array}
  \end{math}
\end{center}
To finish this proof we must show that 
\begin{center}
  \begin{math}
    [[cur t]] \times [[id A]] \circ (\mathsf{id}_{\interp{\Gamma}},[[t2]]) = [[(cur t, t2)]].
  \end{math}
\end{center}
This follows from the following lemma.
% section equality_in_cccs (end)


\section{Centered Category}
\label{sec:centered_category}
\begin{definition}
  \label{def:centered_cate}
  A centered category $[[CC]]^T$ is a pair $([[CC]], [[VV]], [[True]], [[False]], \times, +, \To)$
  such that 
  \begin{center}
    \begin{itemize}
    \item[i.] $([[CC]], [[True]], \times)$ and $([[CC]], [[False]], +)$ are symmetric 
      monoidal categories,
    \item[ii.] $[[CC]]$ contains the following morphisms:
      \begin{center}
        \begin{itemize}
        \item[a.] Units:
          \begin{center}
            \begin{math}
              \begin{array}{lll}
                \begin{diagram}
                  [[False]] & \rTo{[[contr A]]} & [[A]]
                \end{diagram}
                & \ \ \ \ \ \ &
                \begin{diagram}
                  [[A]] & \rTo{[[unit A]]} & [[True]]
                \end{diagram}                
              \end{array}
            \end{math}
          \end{center}

        \item[b.] Products:
          \begin{center}
            \begin{math}
              \begin{array}{cccccc}
                \begin{diagram}
                  [[A x B]] & \rTo{[[proj1 A B]]} & [[A]]
                \end{diagram}
                & \ \ \ \ \ \ &
                \begin{diagram}
                  [[A x B]] & \rTo{[[proj2 A B]]} & [[B]]
                \end{diagram}\\
                & \\
                \begin{diagram}
                    &             & C            & &  \\
                    & \ldTo{f_1}  & \dDashto~{(f_1,f_2)!} & \rdTo{f_2} &  \\
                  A & \lTo_{[[proj1 A B]]} & A \times B   & \rTo_{[[proj2 A B]]} & B.\\
                \end{diagram}
              \end{array}
            \end{math}
          \end{center}
          In addition we define the functor $[[- x -]] : [[CC x CC]] \to [[CC]]$:          
          \begin{center}
            \begin{tabular}{rllll}
              Objects:   & $([[- x -]])([[A]],[[B]])$ & $:=$ & $[[A x B]]$\\
              & \\
              Morphisms: & $([[- x -]])([[f]] : [[A -> C]],[[g]] : [[B -> D]])$ & $:=$ & 
                           $([[f]] \circ [[proj1 A B]], [[g]] \circ [[proj2 A B]])$\\
            \end{tabular}
          \end{center}
          In the sequel the above functor will always be applied infix.
        \item[c.] Coproducts:
          \begin{center}
            \begin{math}
              \begin{array}{cccccc}
                \begin{diagram}
                  [[A]] & \rTo{[[inj1 A B]]} & [[A + B]]
                \end{diagram}
                & \ \ \ \ \ \ &
                \begin{diagram}
                  [[B]] & \rTo{[[inj2 A B]]} & [[A + B]]
                \end{diagram}\\
                & \\
                \begin{diagram}
                    &             & C            & &  \\
                    & \ruTo{f_1}  & \uDashto~{[f_1,f_2]!} & \luTo{f_2} &  \\
                  A & \rTo_{[[inj1 A B]]} & [[A + B]]   & \lTo_{[[inj2 A B]]} & B.\\
                \end{diagram}                
              \end{array}
            \end{math}
          \end{center}

        \item[d.] Exponentials: 
          \begin{center}
            \begin{itemize}
            \item[] For any two objects $A$ and $B$ in $[[CC]]$ there is an object $[[A => B]]$ 
                    and an arrow $[[app A B]] : [[(A => B) x A]] \to [[B]]$ 
                    called the evaluator.  The evaluator must satisfy the
                    universal property: for any object $A$ and arrow $[[f]] : [[h(A x B) -> C]]$, 
                    there is a unique arrow, $[[cur f]] : [[A ->h(B => C)]]$ such that the
                    following diagram commutes:
                    \begin{center}
                      \begin{math}
                        \begin{diagram}
                                 &          &  C                       &                 &  \\
                                 & \ruTo{f} &                          & \luTo{\epsilon} &  \\
                      A \times B &          & \rDashto{f^* \times id_B} &                & C^B \times B
                    \end{diagram}                   
                      \end{math}
                    \end{center}
            \end{itemize}
          \end{center}
        \end{itemize}
      \end{center}
    \end{itemize}
  \end{center}
\end{definition}

% section centered_category (end)


\nocite{*}
\bibliographystyle{plain}
\bibliography{biblio}
%\nocite{pierce04}


\end{document}
