\subsection{Initial Algebras}
\label{subsec:initial_algebras}

\begin{definition}[Algebra]
  \label{def:algebra}
  An \textbf{algebra} or \textbf{$[[F]]$-algebra} is a pair $([[F]], [[sm]]_{[[a]]})$ 
  with respect to some category $[[C]]$ consisting of an object $[[a]]$ called the 
  carrier object of the algebra, an endofunctor $[[F]] : [[C]] \to [[C]]$,
  and a morphism $[[sm]]_{[[a]]} : [[F]]([[a]]) \to [[a]]$ called the structure of the
  algebra.
\end{definition}

\begin{definition}[Homomorphism]
  \label{def:homo_algebras}
  A \textbf{homomorphism} between two algebras $[[sm1]]:[[F]]([[a]]) \to [[a]]$ and $[[sm2]]:[[F]]([[b]]) \to [[b]]$ is 
  a morphism $[[fm]] : [[a]] \to [[b]]$ such that the following diagram commutes:
  \begin{diagram}
    [[a]]          & & \rTo{[[fm]]}          &  &  [[b]]\\
    \uTo{[[sm1]]}  & &                       &  & \uTo_{[[sm2]]}\\
    [[F]]([[a]])   & &  \rTo_{[[F]]([[fm]])} &  & [[F]]([[b]])       
  \end{diagram}
  The above diagram expresses that $[[fm]]$ commutes with the operations of the two algebras.
\end{definition}

\begin{definition}[Initial Algebras]
  \label{def:initial_algebras}
  A \textbf{initial algebra} $[[sm1]] : [[F]]([[a]]) \to [[a]]$ is one such that for any other algebra 
  $[[sm2]] : [[F]]([[b]]) \to [[b]]$ there is a unique homomorphism between them.
\end{definition}

Lets consider a simple example.  Suppose $[[C]]$ is some category with an object $[[Nat]]$, and morphisms
$[[zm]] : 1 \to [[Nat]]$ and $[[sm]] : [[Nat]] \to [[Nat]]$.  Then it is possible to construct any natural number
$[[i]]$ using just these two morphisms.  That is $[[i]]$ is defined by $[[sm]]^{[[i]]}([[zm]])$, hence $[[zm]]$ is 
the natural number zero and $[[sm]]$ is the successor operator.  Now coparing these two operations up into a single
morphism results in $[ [[zm]],[[sm]] ] : 1 + [[Nat]] \to [[Nat]]$.  Defining the functor $[[F]]([[x]]) := 1 + [[x]]$ 
we then obtain $[ [[zm]],[[sm]] ] : [[F]]([[Nat]]) \to [[Nat]]$.  Clearly, this is an $[[F]]$-algebra.  Next we show
that the algebra $[ [[zm]],[[sm]] ] : [[F]]([[Nat]]) \to [[Nat]]$ is initial.

\begin{lemma}[Initiality of the Natural Number Algebra]
  \label{lemma:initiality_nat_alg}
  Let $[[F]]([[x]]) := 1 + [[x]]$. Then algebra $[ [[zm]], [[sm]] ] : [[F]]([[Nat]]) \to [[Nat]]$ is initial.
\end{lemma}
\begin{proof}
  Suppose $[[F]]([[x]]) := 1 + [[x]]$ and $[ [[zm']],[[sm']] ] : [[F]]([[a]]) \to [[a]]$ is an arbitrary algebra. 
  It suffices to show that there exists a unique morphism $[[fm]] : [[Nat]] \to [[a]]$ such that the following diagram commutes:
  \begin{diagram}
    [[Nat]]          & & \rTo{[[fm]]}          &  &  [[a]]\\
    \uTo{[ [[zm]], [[sm]] ]}  & &                       &  & \uTo_{[ [[zm']],[[sm']] ]}\\
    [[F]]([[Nat]])   & &  \rTo_{[[F]]([[fm]])} &  & [[F]]([[a]])       
  \end{diagram}
  \noindent
  This diagram is equivalent to the following:
  \begin{diagram}
    [[Nat]]          & & \rTo{[[fm]]}          &  &  [[a]]\\
    \uTo{[ [[zm]], [[sm]] ]}  & &                       &  & \uTo_{[ [[zm']],[[sm']] ]}\\
    1 + [[Nat]]   & &  \rTo_{\mathit{id} + [[fm]]} &  & 1 + [[a]]       
  \end{diagram}
  We know $[[F]]([[fm]]) := \mathit{id} + [[fm]]$, because the only morphisms from $1$ to $1$ are the identity morphisms and they
  are unique. 
  
  \noindent
  Take $[[fm]](n) := [[sm']]^{(n)} ([[zm']](*))$.  Where $(n)$ is a inductively defined by the following equations:
  \begin{center}
    \begin{math}
      \begin{array}{lll}
        ([[zm]](*)) & := & 0\\
        ([[sm]](a)) & := & 1+(a).\\
      \end{array}
    \end{math}
  \end{center}
  
  \noindent
  At this point we can see that:
  \begin{center}
    \begin{tabular}{clc}
      \begin{math}
        \begin{array}{lll}
          ([[fm]] \circ [[zm]])(*) & = & [[fm]]([[sm]](*))\\
                                   & = & [[sm']]^{(z(*))}([[zm']](*))\\
                                   & = & [[sm']]^{0}([[zm']](*))\\
                                   & = & [[zm']](*)\\
                                   & = & ([[zm']] \circ \mathit{id})(*)\\
        \end{array}
      \end{math}
      & \text{ and } &
      \begin{math}
        \begin{array}{lll}
          ([[fm]] \circ [[sm]])(n) & = & [[fm]]([[sm]](n))\\
                                   & = & [[sm']]^{1+(n)}([[zm']](*))\\
                                   & = & [[sm']]([[sm']]^{(n)}([[zm']](*)))\\
                                   & = & [[sm']]([[fm]](n))\\
                                   & = & ([[sm']] \circ [[fm]])(n).\\
        \end{array}
      \end{math}
    \end{tabular}
  \end{center}
  Thus, 
  \begin{center}
    \begin{math}
      \begin{array}{lll}
        [[fm]] \circ [ [[zm]],[[sm]] ]  & = & [ [[zm']], [[sm']] ] \circ (\mathit{id} + [[fm]]).\\
      \end{array}
    \end{math}
  \end{center}
  The previous results shows that the above diagram commutes. However, we still must show that $[[fm]]$ is unique in order for it to be
  a homomorphism of algebras.  Suppose $[[gm]] : [[Nat]] \to [[A]]$ such that 
  $[[gm]] \circ [ [[zm]],[[sm]] ]  = [ [[zm']], [[sm']] ] \circ (\mathit{id} + [[gm]])$.  Then it must be the case that 
  $[[gm]](z(*)) = [[zm']](*)$ and $[[gm]]([[sm]](a)) = \mathit{id} + [[gm]]$, which can be easily shown to be equivalent
  to $[[fm]]$ by structural induction on the input to $[[fm]]$ and $[[gm]]$.  Therefore, $[[fm]]$ is a homomorphism
  of algebras, and the algebra $[ [[zm]], [[sm]] ] : [[F]]([[Nat]]) \to [[Nat]]$ for functor $[[F]]([[x]]) := 1 + [[x]]$ is
  initial.
\end{proof}

\begin{tabular}{lll}
  - Show initial algebras are unique up to isomorphism.\\
  - Show for all initial algebras the mediating homomorphism is an isomorphism.\\
  - Show for all initial algebras the structure of the algebra is an isomorphism.\\
  - Then describe how functions are defined by induction using initiality.\\
\end{tabular}
% subsection initial_algebras (end)

\subsection{Final Coalgebras}
\label{subsec:final_coalgebras}
Lets consider the infinite stream of ones. 
\begin{center}
  \begin{math}
    [[1 :: 1 :: 1 :: 1]] \cdots
  \end{math}
\end{center}
Now what can be said about such an object?  We definitely can make observations about it.
That is, we can observe that, say, the first element is a $1$.  In addition to that we can 
observe that the second element is also a $1$.  Furthermore, we can make the observation 
that what follows the second element is still an infinite streams of ones.
We can define this stream using a few morphisms.  That is $[[head]] : [[A]] \to \mathbb{N}$ and
$[[next]] : [[A]] \to [[A]]$ are the morphisms, where $[[A]]$ is some fixed set.
Now notice that for any $a \in [[A]]$ we have $[[head]](a) = 1$, and 
$[[next]](a) = a' \in A$.  Now if we compose these two we obtain 
$[[head]]([[next]](a)) = [[head]](a') = 1$.  Thus, using these morphisms we can completely
define our stream above by taking for each position $n \in \mathbb{N}$ in the stream 
$[[head]]([[next]]^{n}(a))$ to be the value at that position for any $a \in [[A]]$.  These
two morphisms $[[head]]$ and $[[next]]$ are the observations we can make about the element 
$a$. It just happens, in this simple example, that the observations are the same for all 
elements of $[[A]]$.

At this point we can take the product of the two morphisms $[[head]]$ and $[[next]]$ to
obtain the morphism $\langle [[head]],[[next]] \rangle : [[A]] \to \mathbb{N} \times [[A]]$.
If we define the functor $[[F]]([[x]]) := \mathbb{N} \times [[x]]$ then we can redefine the
product as $\langle [[head]],[[next]] \rangle : [[A]] \to [[F]]([[A]])$.  Furthermore,
if we make $\mathbb{N}$ arbitrary and call it say $[[B]]$ then we obtain 
the functor $[[F]]([[x]]) := [[B]] \times [[x]]$.  Using this new definition of the functor
$[[F]]$ and $\langle [[head]],[[next]] \rangle : [[A]] \to [[F]]([[A]])$ we can define any
infinite stream of elements of $[[B]]$.  Taking the functor $[[F]]$ and the pair
$([[A]], \langle [[head]], [[next]] \rangle)$ we obtain what is called a coalgebra.

\begin{definition}[Coalgebra]
  \label{def:coalgebra}
  A \textbf{coalgebra} or \textbf{$[[F]]$-coalgebra} is a pair $([[F]], [[sm]]_{[[A]]})$ 
  with respect to some category $[[C]]$ consisting of an object $[[A]]$ called the 
  carrier object of the coalgebra, an endofunctor $[[F]] : [[C]] \to [[C]]$,
  and a morphism $[[sm]]_{[[A]]} : [[A]] \to [[F]]([[A]])$ called the structure of the
  coalgebra.
\end{definition}
It is often the case that coalgebras are denoted simply by specifying the type of the structure of
the coalgebra.  That is $[[sm]]_{[[A]]} : [[A]] \to [[F]]([[A]])$.  This is precise, because it gives all
of the elements of a coalgebra, but the category, but this is usually determinable from the context.  So, in our
example above we can see that $\langle [[head]],[[next]] \rangle : [[A]] \to [[F]]([[A]])$ is indeed a coalgebra with
respect to the category $[[Set]]$.

Now consider the infinite stream of twos.
\begin{center}
  \begin{math}
    [[2 :: 2 :: 2 :: 2]] \cdots
  \end{math}
\end{center}
This is definable by a coalgebra $\langle \hat{[[head]]},\hat{[[next]]} \rangle : [[B]] \to [[F]]([[B]])$ with respect to the 
category $[[Set]]$.  Suppose further that there is a function $[[fm]] : [[A]] \to [[B]]$ such that 
$\hat{[[head]]} \circ [[fm]] = [[head]]$ and $\hat{[[next]]} \circ [[fm]] = [[fm]] \circ [[next]]$.  In this case $[[fm]]$ is called
a homomorphism between coalgebras.  
\begin{definition}[Homomorphism]
  \label{def:homo_coalgebras}
  A \textbf{homomorphism} between two coalgebras $[[sm1]]:[[A]] \to [[F]]([[A]])$ and $[[sm2]]:[[B]] \to [[F]]([[B]])$ is 
  a morphism $[[fm]] : [[A]] \to [[B]]$ such that the following diagram commutes:
  \begin{diagram}
    [[A]]          & & \rTo{[[fm]]}          &  &  [[B]]\\
    \dTo{[[sm1]]}  & &                       &  & \dTo_{[[sm2]]}\\
    [[F]]([[A]])   & &  \rTo_{[[F]]([[fm]])} &  & [[F]]([[B]])       
  \end{diagram}
  The above diagram expresses that $[[fm]]$ commutes with the operations of the two coalgebras.
\end{definition}

\begin{definition}[Final Coalgebras]
  \label{def:final_coalgebras}
  A \textbf{final coalgebra} $[[sm1]] : A \to [[F]]([[A]])$ is one such that for any other coalgebra 
  $[[sm2]] : [[B]] \to [[F]]([[B]])$ there is a unique homomorphism between them.
\end{definition}

% subsection final_coalgebras (end)
